// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cmo, use-js-string=true, version=5.8.2

//# unitInfo: Provides: Dune__exe__View
//# unitInfo: Requires: CamlinternalLazy, Definicije__Avtomat, Definicije__Stanje, Definicije__Trak, Definicije__ZagnaniAvtomat, Dune__exe__Model, Dune__exe__Vektor, Stdlib, Stdlib__List, Stdlib__String, Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_fill$4 = "fill",
    cst_g$3 = "g",
    cst_h2$1 = "h2",
    cst_none$1 = "none",
    cst_stroke$5 = "stroke",
    cst_stroke_width$1 = "stroke-width",
    cst_white$1 = "white",
    caml_equal = runtime.caml_equal,
    caml_obj_tag = runtime.caml_obj_tag;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "#",
    barva_sprejemnega_stanja = "rgb(56, 142, 60)",
    barva_trenutnega_stanja = "rgb(255, 242, 202)",
    barva_zacetnega_stanja = "rgb(8, 118, 155)",
    privzeta_barva_crt = "black",
    privzeta_barva_polnila = cst_white$1,
    Vdom = global_data.Vdom,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Stdlib_String = global_data.Stdlib__String,
    Dune_exe_Model = global_data.Dune__exe__Model,
    Definicije_ZagnaniAvtomat = global_data.Definicije__ZagnaniAvtomat,
    Definicije_Avtomat = global_data.Definicije__Avtomat,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib = global_data.Stdlib,
    Definicije_Trak = global_data.Definicije__Trak,
    Dune_exe_Vektor = global_data.Dune__exe__Vektor,
    Definicije_Stanje = global_data.Definicije__Stanje,
    Parametri =
      [0,
       barva_sprejemnega_stanja,
       barva_trenutnega_stanja,
       barva_zacetnega_stanja,
       3.,
       10.,
       20.,
       0.4,
       10.,
       5.,
       20.,
       25.,
       privzeta_barva_crt,
       privzeta_barva_polnila],
    cst_r = "r",
    cst_cy = "cy",
    cst_cx = "cx",
    cst_circle = "circle",
    cst_y2 = "y2",
    cst_x2 = "x2",
    cst_y1 = "y1",
    cst_x1 = "x1",
    cst_line = "line",
    cst_g = cst_g$3,
    cst_central = "central",
    cst_dominant_baseline = "dominant-baseline",
    cst_middle = "middle",
    cst_text_anchor = "text-anchor",
    cst_y = "y",
    cst_x = "x",
    cst_text = "text",
    cst_fill = cst_fill$4,
    cst_stroke = cst_stroke$5,
    cst_stroke$0 = cst_stroke$5,
    cst_none = cst_none$1,
    cst_fill$0 = cst_fill$4,
    cst_stroke$1 = cst_stroke$5,
    _a_ = [0, 0],
    cst_g$0 = cst_g$3,
    cst_white = cst_white$1,
    cst_fill$1 = cst_fill$4,
    cst_none$0 = cst_none$1,
    cst_fill$2 = cst_fill$4,
    cst_stroke$2 = cst_stroke$5,
    cst_stroke$3 = cst_stroke$5,
    cst_g$1 = cst_g$3,
    _b_ = [0, 0.3],
    cst_white$0 = cst_white$1,
    cst_fill$3 = cst_fill$4,
    cst_stroke$4 = cst_stroke$5,
    cst_stroke_width = cst_stroke_width$1,
    cst_g$2 = cst_g$3,
    cst_h2 = cst_h2$1,
    cst_mark = "mark",
    cst_h2$0 = cst_h2$1,
    cst_preberi_naslednji_znak = "preberi naslednji znak",
    cst_href = "href",
    cst_button = "button",
    cst_role = "role",
    cst_a = "a",
    cst_stroke_width$0 = cst_stroke_width$1,
    cst_height = "height",
    cst_width = "width",
    cst_svg = "svg",
    cst_header = "header",
    cst_article = "article";
   function int_of_float_attr(tag, value){
    return caml_call2(Vdom[37], tag, value | 0);
   }
   function svg_krog(opt, sredisce, polmer){
    if(opt) var sth = opt[1], a = sth; else var a = 0;
    var
     _aG_ = [0, int_of_float_attr(cst_r, polmer), 0],
     _aH_ = [0, int_of_float_attr(cst_cy, sredisce[2]), _aG_],
     _aI_ = [0, int_of_float_attr(cst_cx, sredisce[1]), _aH_],
     _aJ_ = [0, caml_call2(Stdlib[37], _aI_, a)];
    return caml_call4(Vdom[52], cst_circle, 0, _aJ_, 0);
   }
   function svg_daljica(opt, zacetek, konec){
    if(opt) var sth = opt[1], a = sth; else var a = 0;
    var
     _aB_ = [0, int_of_float_attr(cst_y2, konec[2]), 0],
     _aC_ = [0, int_of_float_attr(cst_x2, konec[1]), _aB_],
     _aD_ = [0, int_of_float_attr(cst_y1, zacetek[2]), _aC_],
     _aE_ = [0, int_of_float_attr(cst_x1, zacetek[1]), _aD_],
     _aF_ = [0, caml_call2(Stdlib[37], _aE_, a)];
    return caml_call4(Vdom[52], cst_line, 0, _aF_, 0);
   }
   function svg_puscica(opt, zacetek, konec){
    if(opt) var sth = opt[1], a = sth; else var a = 0;
    var
     vektor = caml_call2(Dune_exe_Vektor[3], konec, zacetek),
     normala = [254, - vektor[2], vektor[1]],
     _ar_ = caml_call2(Dune_exe_Vektor[1], -1., vektor),
     vektor_leve_konice =
       caml_call3(Dune_exe_Vektor[6], [0, Parametri[7]], _ar_, normala),
     _as_ = caml_call2(Dune_exe_Vektor[1], -1., normala),
     _at_ = caml_call2(Dune_exe_Vektor[1], -1., vektor),
     vektor_desne_konice =
       caml_call3(Dune_exe_Vektor[6], [0, Parametri[7]], _at_, _as_),
     _au_ = caml_call1(Dune_exe_Vektor[5], vektor_leve_konice),
     _av_ = caml_call2(Dune_exe_Vektor[1], Parametri[5], _au_),
     leva_konica = caml_call2(Dune_exe_Vektor[2], konec, _av_),
     _aw_ = caml_call1(Dune_exe_Vektor[5], vektor_desne_konice),
     _ax_ = caml_call2(Dune_exe_Vektor[1], Parametri[5], _aw_),
     desna_konica = caml_call2(Dune_exe_Vektor[2], konec, _ax_),
     _ay_ = [0, svg_daljica([0, a], konec, desna_konica), 0],
     _az_ = [0, svg_daljica([0, a], konec, leva_konica), _ay_],
     _aA_ = [0, svg_daljica([0, a], zacetek, konec), _az_];
    return caml_call4(Vdom[52], cst_g, 0, 0, _aA_);
   }
   function svg_oznaka(opt, polozaj, besedilo){
    if(opt) var sth = opt[1], a = sth; else var a = 0;
    var
     _al_ = [0, caml_call2(Vdom[53], 0, besedilo), 0],
     _am_ = [0, caml_call2(Vdom[36], cst_dominant_baseline, cst_central), 0],
     _an_ = [0, caml_call2(Vdom[36], cst_text_anchor, cst_middle), _am_],
     _ao_ = [0, int_of_float_attr(cst_y, polozaj[2]), _an_],
     _ap_ = [0, int_of_float_attr(cst_x, polozaj[1]), _ao_],
     _aq_ = [0, caml_call2(Stdlib[37], _ap_, a)];
    return caml_call4(Vdom[52], cst_text, 0, _aq_, _al_);
   }
   function prikaz_stanja(model, q){
    var
     avtomat = caml_call1(Definicije_ZagnaniAvtomat[2], model[1]),
     polozaj = caml_call2(Dune_exe_Model[2], model, q),
     barva_robu =
       caml_equal(q, caml_call1(Definicije_Avtomat[6], avtomat))
        ? Parametri[3]
        : caml_call2
           (Definicije_Avtomat[9], avtomat, q)
          ? Parametri[1]
          : Parametri[12],
     barva_polnila =
       caml_equal(q, caml_call1(Definicije_ZagnaniAvtomat[4], model[1]))
        ? Parametri[2]
        : Parametri[13],
     _ac_ =
       [0, svg_oznaka(0, polozaj, caml_call1(Definicije_Stanje[2], q)), 0],
     _ad_ = Parametri[10],
     _ae_ = [0, caml_call2(Vdom[36], cst_fill, barva_polnila), 0],
     svg_elementi =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_stroke, barva_robu), _ae_]],
          polozaj,
          _ad_),
        _ac_];
    if(caml_equal(q, caml_call1(Definicije_Avtomat[6], avtomat)))
     var
      _af_ = caml_call2(Dune_exe_Vektor[3], polozaj, [254, Parametri[10], 0.]),
      _ag_ =
        caml_call2
         (Dune_exe_Vektor[3],
          polozaj,
          [254, Parametri[10] + Parametri[6], 0.]),
      svg_elementi$0 =
        [0,
         svg_puscica
          ([0, [0, caml_call2(Vdom[36], cst_stroke$0, Parametri[3]), 0]],
           _ag_,
           _af_),
         svg_elementi];
    else
     var svg_elementi$0 = svg_elementi;
    if(caml_call2(Definicije_Avtomat[9], avtomat, q))
     var
      _ah_ = Parametri[10] - Parametri[9],
      _ai_ = [0, caml_call2(Vdom[36], cst_fill$0, cst_none), 0],
      _aj_ =
        [0,
         svg_krog
          ([0, [0, caml_call2(Vdom[36], cst_stroke$1, Parametri[1]), _ai_]],
           polozaj,
           _ah_),
         0],
      svg_elementi$1 = caml_call2(Stdlib[37], svg_elementi$0, _aj_);
    else
     var svg_elementi$1 = svg_elementi$0;
    var
     _ak_ =
       [0,
        [0, caml_call3(Vdom[8], _a_, 0, function(param){return [0, q];}), 0]];
    return caml_call4(Vdom[52], cst_g$0, 0, _ak_, svg_elementi$1);
   }
   function prikaz_zanke(zacetek, oznaka){
    var
     polozaj_oznake =
       caml_call2(Dune_exe_Vektor[3], zacetek, [254, 0., 2. * Parametri[11]]),
     _U_ = [0, svg_oznaka(0, polozaj_oznake, oznaka), 0],
     _V_ = Parametri[8],
     _W_ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_fill$1, cst_white), 0]],
          polozaj_oznake,
          _V_),
        _U_],
     _X_ = Parametri[11],
     _Y_ = caml_call2(Dune_exe_Vektor[3], zacetek, [254, 0., Parametri[11]]),
     _Z_ = [0, caml_call2(Vdom[36], cst_fill$2, cst_none$0), 0],
     ___ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_stroke$2, Parametri[12]), _Z_]],
          _Y_,
          _X_),
        _W_],
     _$_ = caml_call2(Dune_exe_Vektor[2], zacetek, [254, Parametri[10], -2.]),
     _aa_ =
       caml_call2(Dune_exe_Vektor[2], zacetek, [254, Parametri[10] + 2., -3.]),
     _ab_ =
       [0,
        svg_puscica
         ([0, [0, caml_call2(Vdom[36], cst_stroke$3, Parametri[12]), 0]],
          _aa_,
          _$_),
        ___];
    return caml_call4(Vdom[52], cst_g$1, 0, 0, _ab_);
   }
   function prikaz_prehoda(zacetek, konec, oznaka){
    var
     _O_ = caml_call2(Dune_exe_Vektor[7], zacetek, konec),
     lambda = Parametri[10] / _O_,
     zacetek_puscice =
       caml_call3(Dune_exe_Vektor[6], [0, lambda], zacetek, konec),
     konec_puscice =
       caml_call3(Dune_exe_Vektor[6], [0, 1. - lambda], zacetek, konec),
     polozaj_oznake = caml_call3(Dune_exe_Vektor[6], _b_, zacetek, konec),
     _P_ = [0, svg_oznaka(0, polozaj_oznake, oznaka), 0],
     _Q_ = Parametri[8],
     _R_ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_fill$3, cst_white$0), 0]],
          polozaj_oznake,
          _Q_),
        _P_],
     _S_ = [0, caml_call2(Vdom[36], cst_stroke$4, Parametri[12]), 0],
     _T_ =
       [0,
        svg_puscica
         ([0, [0, int_of_float_attr(cst_stroke_width, Parametri[4]), _S_]],
          zacetek_puscice,
          konec_puscice),
        _R_];
    return caml_call4(Vdom[52], cst_g$2, 0, 0, _T_);
   }
   function prikaz_traku(model){
    var
     trak = caml_call1(Definicije_ZagnaniAvtomat[3], model[1]),
     _F_ = model[3];
    if(typeof _F_ === "number" && _F_){
     var
      _G_ = caml_call1(Definicije_Trak[6], trak),
      _H_ = [0, caml_call1(Vdom[42], _G_), 0],
      _I_ =
        [0,
         [0, caml_call3(Vdom[19], 0, 0, function(niz){return [2, niz];}), _H_]],
      _J_ = [0, caml_call3(Vdom[60], 0, _I_, 0), 0];
     return caml_call5(Vdom[51], 0, cst_h2, 0, 0, _J_);
    }
    var
     prebrani = caml_call1(Definicije_Trak[7], trak),
     neprebrani = caml_call1(Definicije_Trak[8], trak),
     _K_ = [0, caml_call2(Vdom[53], 0, neprebrani), 0],
     _L_ = [0, caml_call5(Vdom[51], 0, cst_mark, 0, 0, _K_), 0],
     _M_ = [0, caml_call2(Vdom[53], 0, prebrani), _L_],
     _N_ = [0, [0, caml_call3(Vdom[13], 0, 0, function(param){return 2;}), 0]];
    return caml_call5(Vdom[51], 0, cst_h2$0, 0, _N_, _M_);
   }
   function prikaz_gumba_za_naslednji_znak(model){
    var
     _w_ = [0, caml_call2(Vdom[53], 0, cst_preberi_naslednji_znak), 0],
     _y_ = 1 === model[3] ? 1 : 0,
     _x_ = 0;
    if(_y_)
     var _z_ = _y_;
    else
     var
      _E_ = caml_call1(Definicije_ZagnaniAvtomat[3], model[1]),
      _z_ = caml_call1(Definicije_Trak[3], _E_);
    var
     _A_ = [0, caml_call1(Vdom[43], _z_), _x_],
     _B_ = [0, caml_call3(Vdom[11], 0, 0, function(param){return 0;}), _A_],
     _C_ = [0, caml_call2(Vdom[36], cst_href, cst), _B_],
     _D_ = [0, [0, caml_call2(Vdom[36], cst_role, cst_button), _C_]];
    return caml_call5(Vdom[51], 0, cst_a, 0, _D_, _w_);
   }
   function prikaz_avtomata(model){
    var
     avtomat = caml_call1(Definicije_ZagnaniAvtomat[2], model[1]),
     _g_ = caml_call1(Definicije_Avtomat[7], avtomat),
     stanja =
       caml_call2
        (Stdlib_List[19],
         function(_v_){return prikaz_stanja(model, _v_);},
         _g_),
     _h_ = caml_call1(Definicije_Avtomat[8], avtomat),
     prehodi =
       caml_call2
        (Stdlib_List[19],
         function(param){
          var
           dst = param[3],
           chr = param[2],
           src = param[1],
           svg_oznaka = caml_call2(Stdlib_String[1], 1, chr);
          if(caml_equal(src, dst))
           return prikaz_zanke
                   (caml_call2(Dune_exe_Model[2], model, src), svg_oznaka);
          var _u_ = caml_call2(Dune_exe_Model[2], model, dst);
          return prikaz_prehoda
                  (caml_call2(Dune_exe_Model[2], model, src), _u_, svg_oznaka);
         },
         _h_);
    if(typeof model[3] === "number")
     var a = 0;
    else
     var
      _n_ = [0, caml_call3(Vdom[10], 0, 0, function(param){return 1;}), 0],
      a =
        [0,
         caml_call3
          (Vdom[21],
           0,
           0,
           function(ev){
            var
             _o_ = ev[6],
             _p_ = caml_obj_tag(_o_),
             _q_ =
               250 === _p_
                ? _o_[1]
                : 246 === _p_ ? caml_call1(CamlinternalLazy[2], _o_) : _o_,
             _r_ = ev[5],
             _s_ = caml_obj_tag(_r_),
             _t_ =
               250 === _s_
                ? _r_[1]
                : 246 === _s_ ? caml_call1(CamlinternalLazy[2], _r_) : _r_;
            return [1, [254, _t_, _q_]];
           }),
         _n_];
    var
     _i_ = caml_call2(Stdlib[37], prehodi, stanja),
     _j_ = [0, int_of_float_attr(cst_stroke_width$0, Parametri[4]), 0],
     _k_ = [0, int_of_float_attr(cst_height, model[5]), _j_],
     _l_ = [0, int_of_float_attr(cst_width, model[4]), _k_],
     _m_ = [0, caml_call2(Stdlib[37], a, _l_)];
    return caml_call4(Vdom[52], cst_svg, 0, _m_, _i_);
   }
   function view(model){
    var
     _c_ = [0, prikaz_avtomata(model), 0],
     _d_ = [0, prikaz_gumba_za_naslednji_znak(model), 0],
     _e_ = [0, prikaz_traku(model), _d_],
     _f_ = [0, caml_call5(Vdom[51], 0, cst_header, 0, 0, _e_), _c_];
    return caml_call5(Vdom[51], 0, cst_article, 0, 0, _f_);
   }
   var
    Dune_exe_View =
      [0,
       Parametri,
       int_of_float_attr,
       svg_krog,
       svg_daljica,
       svg_puscica,
       svg_oznaka,
       prikaz_stanja,
       prikaz_zanke,
       prikaz_prehoda,
       prikaz_traku,
       prikaz_gumba_za_naslednji_znak,
       prikaz_avtomata,
       view];
   runtime.caml_register_global(89, Dune_exe_View, "Dune__exe__View");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiIuc3BsZXRuaVZtZXNuaWsuZW9ianMvanNvby9kdW5lX19leGVfX1ZpZXcuY21vLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImJhcnZhX3NwcmVqZW1uZWdhX3N0YW5qYSIsImJhcnZhX3RyZW51dG5lZ2Ffc3RhbmphIiwiYmFydmFfemFjZXRuZWdhX3N0YW5qYSIsInByaXZ6ZXRhX2JhcnZhX2NydCIsInByaXZ6ZXRhX2JhcnZhX3BvbG5pbGEiLCJpbnRfb2ZfZmxvYXRfYXR0ciIsInRhZyIsInZhbHVlIiwic3ZnX2tyb2ciLCJvcHQiLCJzcmVkaXNjZSIsInBvbG1lciIsInN0aCIsImEiLCJzdmdfZGFsamljYSIsInphY2V0ZWsiLCJrb25lYyIsInN2Z19wdXNjaWNhIiwidmVrdG9yIiwibm9ybWFsYSIsInZla3Rvcl9sZXZlX2tvbmljZSIsInZla3Rvcl9kZXNuZV9rb25pY2UiLCJsZXZhX2tvbmljYSIsImRlc25hX2tvbmljYSIsInN2Z19vem5ha2EiLCJwb2xvemFqIiwiYmVzZWRpbG8iLCJwcmlrYXpfc3RhbmphIiwibW9kZWwiLCJxIiwiYXZ0b21hdCIsImJhcnZhX3JvYnUiLCJiYXJ2YV9wb2xuaWxhIiwic3ZnX2VsZW1lbnRpIiwic3ZnX2VsZW1lbnRpJDAiLCJzdmdfZWxlbWVudGkkMSIsInByaWthel96YW5rZSIsIm96bmFrYSIsInBvbG96YWpfb3puYWtlIiwicHJpa2F6X3ByZWhvZGEiLCJsYW1iZGEiLCJ6YWNldGVrX3B1c2NpY2UiLCJrb25lY19wdXNjaWNlIiwicHJpa2F6X3RyYWt1IiwidHJhayIsIm5peiIsInByZWJyYW5pIiwibmVwcmVicmFuaSIsInByaWthel9ndW1iYV96YV9uYXNsZWRuamlfem5hayIsInByaWthel9hdnRvbWF0YSIsInN0YW5qYSIsInByZWhvZGkiLCJkc3QiLCJjaHIiLCJzcmMiLCJldiIsInZpZXciXSwic291cmNlcyI6WyIvd29ya3NwYWNlX3Jvb3Qvc3JjL3NwbGV0bmlWbWVzbmlrL3ZpZXcubWwi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Q0Y7OztVQUNFO1dBQWdCQztXQUFMQztXQUFMQztXQUNBOUIsYUFBYSxnQ0FEUjZCO1VBRU4sR0FBQSxXQUZDQyxLQUFVRjtXQUVJLE9BMUV0QmhCO29CQTBFbUMsOEJBVG5CUixPQU9SMEIsTUFDQTlCO1VBR3dDLFVBQUEsOEJBWGhDSSxPQU9Fd0I7VUFJWixPQTFETmI7bUJBMERxQiw4QkFYTFgsT0FPUjBCLFdBQ0E5QjtTQUlXOztjQVpISTtTQWVkZjs7O2dCQU9JLDJDQUFvQixTQUFvQjtNQVA1Q0E7O1NBSUk7Ozs7b0JBQWlCMEM7WUFDYjttQkFEYUE7Ozs7OzttQkFBQUE7Ozs7OztZQUNiO1dBQzhEOztJQWF4RTtLQUFBLE1BQUEsdUJBN0JFSixTQUhBRDtlQXZMRjdDO2VBQUFBLDhCQXFMZ0J1QjtLQTZCWixVQWxOSnZCLDZCQXFMZ0J1QjtLQTRCZCxVQUFBLHVCQWJBZjtJQW1CRixPQUFBO0dBQWtCO1lBRWxCMkMsS0FBSzVCO0lBQ1A7ZUFyQ0VxQixnQkFvQ0tyQjtlQWpETG9CLCtCQWlES3BCO0tBR1UsVUFwRWZlLGFBaUVLZjtLQUVMLFVBQ0U7SUFERixPQUFBO0dBR0M7Ozs7O09BOU5EdkI7T0FFQUc7T0FXQU07T0FZQUc7T0FzQkFPO09BWUFHO09BeURBUztPQWtCQUc7T0FrQkFJO09BZ0JBSztPQWFBQztPQW9DQU87OztFIiwic291cmNlc0NvbnRlbnQiOlsib3BlbiBWZG9tXG5vcGVuIE1vZGVsXG5vcGVuIFZla3Rvclxub3BlbiBEZWZpbmljaWplXG5cbm1vZHVsZSBQYXJhbWV0cmkgPSBzdHJ1Y3RcbiAgbGV0IGJhcnZhX3NwcmVqZW1uZWdhX3N0YW5qYSA9IFwicmdiKDU2LCAxNDIsIDYwKVwiXG4gIGxldCBiYXJ2YV90cmVudXRuZWdhX3N0YW5qYSA9IFwicmdiKDI1NSwgMjQyLCAyMDIpXCJcbiAgbGV0IGJhcnZhX3phY2V0bmVnYV9zdGFuamEgPSBcInJnYig4LCAxMTgsIDE1NSlcIlxuICBsZXQgZGViZWxpbmFfY3J0ID0gMy5cbiAgbGV0IGRvbHppbmFfa29uaWNlID0gMTAuXG4gIGxldCBkb2x6aW5hX3B1c2NpY2VfemFjZXRuZWdhX3N0YW5qYSA9IDIwLlxuICBsZXQgbmFrbG9uX2tvbmljZSA9IDAuNFxuICBsZXQgcG9sbWVyX296bmFrZSA9IDEwLlxuICBsZXQgcG9sbWVyX3NwcmVqZW1uZWdhX3N0YW5qYSA9IDUuXG4gIGxldCBwb2xtZXJfc3RhbmphID0gMjAuXG4gIGxldCBwb2xtZXJfemFua2UgPSAyNS5cbiAgbGV0IHByaXZ6ZXRhX2JhcnZhX2NydCA9IFwiYmxhY2tcIlxuICBsZXQgcHJpdnpldGFfYmFydmFfcG9sbmlsYSA9IFwid2hpdGVcIlxuZW5kXG5cbmxldCBpbnRfb2ZfZmxvYXRfYXR0ciB0YWcgdmFsdWUgPSBpbnRfYXR0ciB0YWcgKGludF9vZl9mbG9hdCB2YWx1ZSlcblxubGV0IHN2Z19rcm9nID8oYSA9IFtdKSBzcmVkaXNjZSBwb2xtZXIgPVxuICBzdmdfZWx0IFwiY2lyY2xlXCJcbiAgICB+YTpcbiAgICAgIChbXG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcImN4XCIgc3JlZGlzY2UueDtcbiAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwiY3lcIiBzcmVkaXNjZS55O1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJyXCIgcG9sbWVyO1xuICAgICAgIF1cbiAgICAgIEAgYSlcbiAgICBbXVxuXG5sZXQgc3ZnX2RhbGppY2EgPyhhID0gW10pIHphY2V0ZWsga29uZWMgPVxuICBzdmdfZWx0IFwibGluZVwiXG4gICAgfmE6XG4gICAgICAoW1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ4MVwiIHphY2V0ZWsueDtcbiAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwieTFcIiB6YWNldGVrLnk7XG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcIngyXCIga29uZWMueDtcbiAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwieTJcIiBrb25lYy55O1xuICAgICAgIF1cbiAgICAgIEAgYSlcbiAgICBbXVxuXG5sZXQgc3ZnX3B1c2NpY2EgPyhhID0gW10pIHphY2V0ZWsga29uZWMgPVxuICBsZXQgdmVrdG9yID0ga29uZWMgLS0uIHphY2V0ZWsgaW5cbiAgbGV0IG5vcm1hbGEgPSB7IHggPSAtLnZla3Rvci55OyB5ID0gdmVrdG9yLnggfSBpblxuICBsZXQgdmVrdG9yX2xldmVfa29uaWNlID1cbiAgICBzcmVkaW5hIH5sYW1iZGE6UGFyYW1ldHJpLm5ha2xvbl9rb25pY2UgKC0xLiAqKi4gdmVrdG9yKSBub3JtYWxhXG4gIGluXG4gIGxldCB2ZWt0b3JfZGVzbmVfa29uaWNlID1cbiAgICBzcmVkaW5hIH5sYW1iZGE6UGFyYW1ldHJpLm5ha2xvbl9rb25pY2UgKC0xLiAqKi4gdmVrdG9yKSAoLTEuICoqLiBub3JtYWxhKVxuICBpblxuICBsZXQgbGV2YV9rb25pY2EgPVxuICAgIGtvbmVjICsrLiAoUGFyYW1ldHJpLmRvbHppbmFfa29uaWNlICoqLiBub3JtaXJhaiB2ZWt0b3JfbGV2ZV9rb25pY2UpXG4gIGluXG4gIGxldCBkZXNuYV9rb25pY2EgPVxuICAgIGtvbmVjICsrLiAoUGFyYW1ldHJpLmRvbHppbmFfa29uaWNlICoqLiBub3JtaXJhaiB2ZWt0b3JfZGVzbmVfa29uaWNlKVxuICBpblxuICBzdmdfZWx0IFwiZ1wiXG4gICAgW1xuICAgICAgc3ZnX2RhbGppY2EgfmEgemFjZXRlayBrb25lYztcbiAgICAgIHN2Z19kYWxqaWNhIH5hIGtvbmVjIGxldmFfa29uaWNhO1xuICAgICAgc3ZnX2RhbGppY2EgfmEga29uZWMgZGVzbmFfa29uaWNhO1xuICAgIF1cblxubGV0IHN2Z19vem5ha2EgPyhhID0gW10pIHBvbG96YWogYmVzZWRpbG8gPVxuICBzdmdfZWx0IFwidGV4dFwiXG4gICAgfmE6XG4gICAgICAoW1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ4XCIgcG9sb3phai54O1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ5XCIgcG9sb3phai55O1xuICAgICAgICAgYXR0ciBcInRleHQtYW5jaG9yXCIgXCJtaWRkbGVcIjtcbiAgICAgICAgIGF0dHIgXCJkb21pbmFudC1iYXNlbGluZVwiIFwiY2VudHJhbFwiO1xuICAgICAgIF1cbiAgICAgIEAgYSlcbiAgICBbIHRleHQgYmVzZWRpbG8gXVxuXG5sZXQgcHJpa2F6X3N0YW5qYSBtb2RlbCBxID1cbiAgbGV0IGF2dG9tYXQgPSBaYWduYW5pQXZ0b21hdC5hdnRvbWF0IG1vZGVsLmF2dG9tYXQgaW5cbiAgbGV0IHBvbG96YWogPSBwb2xvemFqX3N0YW5qYSBtb2RlbCBxIGluXG4gIGxldCBiYXJ2YV9yb2J1ID1cbiAgICBpZiBxID0gQXZ0b21hdC56YWNldG5vX3N0YW5qZSBhdnRvbWF0IHRoZW4gUGFyYW1ldHJpLmJhcnZhX3phY2V0bmVnYV9zdGFuamFcbiAgICBlbHNlIGlmIEF2dG9tYXQuamVfc3ByZWplbW5vX3N0YW5qZSBhdnRvbWF0IHEgdGhlblxuICAgICAgUGFyYW1ldHJpLmJhcnZhX3NwcmVqZW1uZWdhX3N0YW5qYVxuICAgIGVsc2UgUGFyYW1ldHJpLnByaXZ6ZXRhX2JhcnZhX2NydFxuICBpblxuICBsZXQgYmFydmFfcG9sbmlsYSA9XG4gICAgaWYgcSA9IFphZ25hbmlBdnRvbWF0LnN0YW5qZSBtb2RlbC5hdnRvbWF0IHRoZW5cbiAgICAgIFBhcmFtZXRyaS5iYXJ2YV90cmVudXRuZWdhX3N0YW5qYVxuICAgIGVsc2UgUGFyYW1ldHJpLnByaXZ6ZXRhX2JhcnZhX3BvbG5pbGFcbiAgaW5cbiAgbGV0IHN2Z19lbGVtZW50aSA9XG4gICAgW1xuICAgICAgc3ZnX2tyb2dcbiAgICAgICAgfmE6WyBhdHRyIFwic3Ryb2tlXCIgYmFydmFfcm9idTsgYXR0ciBcImZpbGxcIiBiYXJ2YV9wb2xuaWxhIF1cbiAgICAgICAgcG9sb3phaiBQYXJhbWV0cmkucG9sbWVyX3N0YW5qYTtcbiAgICAgIHN2Z19vem5ha2EgcG9sb3phaiAoU3RhbmplLnZfbml6IHEpO1xuICAgIF1cbiAgaW5cbiAgbGV0IHN2Z19lbGVtZW50aSA9XG4gICAgaWYgcSA9IEF2dG9tYXQuemFjZXRub19zdGFuamUgYXZ0b21hdCB0aGVuXG4gICAgICBzdmdfcHVzY2ljYVxuICAgICAgICB+YTpbIGF0dHIgXCJzdHJva2VcIiBQYXJhbWV0cmkuYmFydmFfemFjZXRuZWdhX3N0YW5qYSBdXG4gICAgICAgIChwb2xvemFqXG4gICAgICAgIC0tLiB7XG4gICAgICAgICAgICAgIHggPVxuICAgICAgICAgICAgICAgIFBhcmFtZXRyaS5wb2xtZXJfc3RhbmphXG4gICAgICAgICAgICAgICAgKy4gUGFyYW1ldHJpLmRvbHppbmFfcHVzY2ljZV96YWNldG5lZ2Ffc3RhbmphO1xuICAgICAgICAgICAgICB5ID0gMC47XG4gICAgICAgICAgICB9KVxuICAgICAgICAocG9sb3phaiAtLS4geyB4ID0gUGFyYW1ldHJpLnBvbG1lcl9zdGFuamE7IHkgPSAwLiB9KVxuICAgICAgOjogc3ZnX2VsZW1lbnRpXG4gICAgZWxzZSBzdmdfZWxlbWVudGlcbiAgaW5cbiAgbGV0IHN2Z19lbGVtZW50aSA9XG4gICAgaWYgQXZ0b21hdC5qZV9zcHJlamVtbm9fc3RhbmplIGF2dG9tYXQgcSB0aGVuXG4gICAgICBzdmdfZWxlbWVudGlcbiAgICAgIEAgW1xuICAgICAgICAgIHN2Z19rcm9nXG4gICAgICAgICAgICB+YTpcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGF0dHIgXCJzdHJva2VcIiBQYXJhbWV0cmkuYmFydmFfc3ByZWplbW5lZ2Ffc3RhbmphO1xuICAgICAgICAgICAgICAgIGF0dHIgXCJmaWxsXCIgXCJub25lXCI7XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIHBvbG96YWpcbiAgICAgICAgICAgIChQYXJhbWV0cmkucG9sbWVyX3N0YW5qYSAtLiBQYXJhbWV0cmkucG9sbWVyX3NwcmVqZW1uZWdhX3N0YW5qYSk7XG4gICAgICAgIF1cbiAgICBlbHNlIHN2Z19lbGVtZW50aVxuICBpblxuXG4gIHN2Z19lbHQgXCJnXCJcbiAgICB+YTpbIG9ubW91c2Vkb3duIH5wcmV2ZW50X2RlZmF1bHQ6KCkgKGZ1biBfIC0+IFphY25pUHJlbWlrVm96bGlzY2EgcSkgXVxuICAgIHN2Z19lbGVtZW50aVxuXG5sZXQgcHJpa2F6X3phbmtlIHphY2V0ZWsgb3puYWthID1cbiAgbGV0IHBvbG96YWpfb3puYWtlID1cbiAgICB6YWNldGVrIC0tLiB7IHggPSAwLjsgeSA9IDIuICouIFBhcmFtZXRyaS5wb2xtZXJfemFua2UgfVxuICBpblxuICBzdmdfZWx0IFwiZ1wiXG4gICAgW1xuICAgICAgc3ZnX3B1c2NpY2FcbiAgICAgICAgfmE6WyBhdHRyIFwic3Ryb2tlXCIgUGFyYW1ldHJpLnByaXZ6ZXRhX2JhcnZhX2NydCBdXG4gICAgICAgICh6YWNldGVrICsrLiB7IHggPSBQYXJhbWV0cmkucG9sbWVyX3N0YW5qYSArLiAyLjsgeSA9IC0zLiB9KVxuICAgICAgICAoemFjZXRlayArKy4geyB4ID0gUGFyYW1ldHJpLnBvbG1lcl9zdGFuamE7IHkgPSAtMi4gfSk7XG4gICAgICBzdmdfa3JvZ1xuICAgICAgICB+YTpbIGF0dHIgXCJzdHJva2VcIiBQYXJhbWV0cmkucHJpdnpldGFfYmFydmFfY3J0OyBhdHRyIFwiZmlsbFwiIFwibm9uZVwiIF1cbiAgICAgICAgKHphY2V0ZWsgLS0uIHsgeCA9IDAuOyB5ID0gUGFyYW1ldHJpLnBvbG1lcl96YW5rZSB9KVxuICAgICAgICBQYXJhbWV0cmkucG9sbWVyX3phbmtlO1xuICAgICAgc3ZnX2tyb2cgfmE6WyBhdHRyIFwiZmlsbFwiIFwid2hpdGVcIiBdIHBvbG96YWpfb3puYWtlIFBhcmFtZXRyaS5wb2xtZXJfb3puYWtlO1xuICAgICAgc3ZnX296bmFrYSBwb2xvemFqX296bmFrZSBvem5ha2E7XG4gICAgXVxuXG5sZXQgcHJpa2F6X3ByZWhvZGEgemFjZXRlayBrb25lYyBvem5ha2EgPVxuICBsZXQgbGFtYmRhID0gUGFyYW1ldHJpLnBvbG1lcl9zdGFuamEgLy4gcmF6ZGFsamEgemFjZXRlayBrb25lYyBpblxuICBsZXQgemFjZXRla19wdXNjaWNlID0gc3JlZGluYSB+bGFtYmRhIHphY2V0ZWsga29uZWMgaW5cbiAgbGV0IGtvbmVjX3B1c2NpY2UgPSBzcmVkaW5hIH5sYW1iZGE6KDEuIC0uIGxhbWJkYSkgemFjZXRlayBrb25lYyBpblxuICBsZXQgcG9sb3phal9vem5ha2UgPSBzcmVkaW5hIH5sYW1iZGE6MC4zIHphY2V0ZWsga29uZWMgaW5cbiAgc3ZnX2VsdCBcImdcIlxuICAgIFtcbiAgICAgIHN2Z19wdXNjaWNhXG4gICAgICAgIH5hOlxuICAgICAgICAgIFtcbiAgICAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwic3Ryb2tlLXdpZHRoXCIgUGFyYW1ldHJpLmRlYmVsaW5hX2NydDtcbiAgICAgICAgICAgIGF0dHIgXCJzdHJva2VcIiBQYXJhbWV0cmkucHJpdnpldGFfYmFydmFfY3J0O1xuICAgICAgICAgIF1cbiAgICAgICAgemFjZXRla19wdXNjaWNlIGtvbmVjX3B1c2NpY2U7XG4gICAgICBzdmdfa3JvZyB+YTpbIGF0dHIgXCJmaWxsXCIgXCJ3aGl0ZVwiIF0gcG9sb3phal9vem5ha2UgUGFyYW1ldHJpLnBvbG1lcl9vem5ha2U7XG4gICAgICBzdmdfb3puYWthIHBvbG96YWpfb3puYWtlIG96bmFrYTtcbiAgICBdXG5cbmxldCBwcmlrYXpfdHJha3UgbW9kZWwgPVxuICBsZXQgdHJhayA9IFphZ25hbmlBdnRvbWF0LnRyYWsgbW9kZWwuYXZ0b21hdCBpblxuICBtYXRjaCBtb2RlbC5uYWNpbiB3aXRoXG4gIHwgVm5hc2FuamVOaXphIC0+XG4gICAgICBlbHQgXCJoMlwiXG4gICAgICAgIFtcbiAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgfmE6WyBvbmNoYW5nZSAoZnVuIG5peiAtPiBWbmVzaU5peiBuaXopOyB2YWx1ZSAoVHJhay52X25peiB0cmFrKSBdXG4gICAgICAgICAgICBbXTtcbiAgICAgICAgXVxuICB8IF8gLT5cbiAgICAgIGxldCBwcmVicmFuaSA9IFRyYWsucHJlYnJhbmkgdHJhayBhbmQgbmVwcmVicmFuaSA9IFRyYWsubmVwcmVicmFuaSB0cmFrIGluXG4gICAgICBlbHQgXCJoMlwiXG4gICAgICAgIH5hOlsgb25kYmxjbGljayAoZnVuIF8gLT4gWmFjbmlWbm9zTml6YSkgXVxuICAgICAgICBbIHRleHQgcHJlYnJhbmk7IGVsdCBcIm1hcmtcIiBbIHRleHQgbmVwcmVicmFuaSBdIF1cblxubGV0IHByaWthel9ndW1iYV96YV9uYXNsZWRuamlfem5hayBtb2RlbCA9XG4gIGVsdCBcImFcIlxuICAgIH5hOlxuICAgICAgW1xuICAgICAgICBhdHRyIFwicm9sZVwiIFwiYnV0dG9uXCI7XG4gICAgICAgIGF0dHIgXCJocmVmXCIgXCIjXCI7XG4gICAgICAgIG9uY2xpY2sgKGZ1biBfIC0+IFByZWJlcmlOYXNsZWRuamlabmFrKTtcbiAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAobW9kZWwubmFjaW4gPSBWbmFzYW5qZU5pemFcbiAgICAgICAgICB8fCBtb2RlbC5hdnRvbWF0IHw+IFphZ25hbmlBdnRvbWF0LnRyYWsgfD4gVHJhay5qZV9uYV9rb25jdSk7XG4gICAgICBdXG4gICAgWyB0ZXh0IFwicHJlYmVyaSBuYXNsZWRuamkgem5ha1wiIF1cblxubGV0IHByaWthel9hdnRvbWF0YSBtb2RlbCA9XG4gIGxldCBhdnRvbWF0ID0gWmFnbmFuaUF2dG9tYXQuYXZ0b21hdCBtb2RlbC5hdnRvbWF0IGluXG4gIGxldCBzdGFuamEgPVxuICAgIExpc3QubWFwIChwcmlrYXpfc3RhbmphIG1vZGVsKSAoYXZ0b21hdCB8PiBBdnRvbWF0LnNlem5hbV9zdGFuailcbiAgaW5cbiAgbGV0IHByZWhvZGkgPVxuICAgIExpc3QubWFwXG4gICAgICAoZnVuIChzcmMsIGNociwgZHN0KSAtPlxuICAgICAgICBsZXQgc3ZnX296bmFrYSA9IFN0cmluZy5tYWtlIDEgY2hyIGluXG4gICAgICAgIGlmIHNyYyA9IGRzdCB0aGVuIHByaWthel96YW5rZSAocG9sb3phal9zdGFuamEgbW9kZWwgc3JjKSBzdmdfb3puYWthXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBwcmlrYXpfcHJlaG9kYSAocG9sb3phal9zdGFuamEgbW9kZWwgc3JjKSAocG9sb3phal9zdGFuamEgbW9kZWwgZHN0KVxuICAgICAgICAgICAgc3ZnX296bmFrYSlcbiAgICAgIChBdnRvbWF0LnNlem5hbV9wcmVob2RvdiBhdnRvbWF0KVxuICBpblxuICBsZXQgYSA9XG4gICAgbWF0Y2ggbW9kZWwubmFjaW4gd2l0aFxuICAgIHwgUHJlbWlrYW5qZVZvemxpc2NhIF8gLT5cbiAgICAgICAgW1xuICAgICAgICAgIG9ubW91c2Vtb3ZlIChmdW4gZXYgLT5cbiAgICAgICAgICAgICAgUHJlbWFrbmlWb3psaXNjZVxuICAgICAgICAgICAgICAgIHsgeCA9IExhenkuZm9yY2UgZXYuZWxlbWVudF94OyB5ID0gTGF6eS5mb3JjZSBldi5lbGVtZW50X3kgfSk7XG4gICAgICAgICAgb25tb3VzZXVwIChmdW4gXyAtPiBLb25jYWpQcmVtaWtWb3psaXNjYSk7XG4gICAgICAgIF1cbiAgICB8IF8gLT4gW11cbiAgaW5cbiAgc3ZnX2VsdCBcInN2Z1wiXG4gICAgfmE6XG4gICAgICAoYVxuICAgICAgQCBbXG4gICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ3aWR0aFwiIG1vZGVsLnNpcmluYTtcbiAgICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcImhlaWdodFwiIG1vZGVsLnZpc2luYTtcbiAgICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcInN0cm9rZS13aWR0aFwiIFBhcmFtZXRyaS5kZWJlbGluYV9jcnQ7XG4gICAgICAgIF0pXG4gICAgKHByZWhvZGkgQCBzdGFuamEpXG5cbmxldCB2aWV3IG1vZGVsID1cbiAgZWx0IFwiYXJ0aWNsZVwiXG4gICAgW1xuICAgICAgZWx0IFwiaGVhZGVyXCIgWyBwcmlrYXpfdHJha3UgbW9kZWw7IHByaWthel9ndW1iYV96YV9uYXNsZWRuamlfem5hayBtb2RlbCBdO1xuICAgICAgcHJpa2F6X2F2dG9tYXRhIG1vZGVsO1xuICAgIF1cbiJdfQ==
