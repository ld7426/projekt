// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cmo, use-js-string=true, version=5.8.2

//# unitInfo: Provides: Dune__exe__View
//# unitInfo: Requires: CamlinternalLazy, Definicije__Avtomat, Definicije__Stanje, Definicije__Trak, Definicije__ZagnaniAvtomat, Dune__exe__Model, Dune__exe__Vektor, Stdlib, Stdlib__List, Stdlib__String, Vdom
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_fill$4 = "fill",
    cst_g$3 = "g",
    cst_h2$1 = "h2",
    cst_none$1 = "none",
    cst_stroke$5 = "stroke",
    cst_stroke_width$1 = "stroke-width",
    cst_white$1 = "white",
    caml_equal = runtime.caml_equal,
    caml_obj_tag = runtime.caml_obj_tag;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) == 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) == 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) == 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) == 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) == 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "#",
    barva_sprejemnega_stanja = "rgb(56, 142, 60)",
    barva_trenutnega_stanja = "rgb(255, 242, 202)",
    barva_zacetnega_stanja = "rgb(8, 118, 155)",
    privzeta_barva_crt = "black",
    privzeta_barva_polnila = cst_white$1,
    Vdom = global_data.Vdom,
    CamlinternalLazy = global_data.CamlinternalLazy,
    Stdlib_String = global_data.Stdlib__String,
    Dune_exe_Model = global_data.Dune__exe__Model,
    Definicije_ZagnaniAvtomat = global_data.Definicije__ZagnaniAvtomat,
    Definicije_Avtomat = global_data.Definicije__Avtomat,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib = global_data.Stdlib,
    Definicije_Trak = global_data.Definicije__Trak,
    Dune_exe_Vektor = global_data.Dune__exe__Vektor,
    Definicije_Stanje = global_data.Definicije__Stanje,
    Parametri =
      [0,
       barva_sprejemnega_stanja,
       barva_trenutnega_stanja,
       barva_zacetnega_stanja,
       3.,
       10.,
       20.,
       0.4,
       10.,
       5.,
       20.,
       25.,
       privzeta_barva_crt,
       privzeta_barva_polnila],
    cst_r = "r",
    cst_cy = "cy",
    cst_cx = "cx",
    cst_circle = "circle",
    cst_y2 = "y2",
    cst_x2 = "x2",
    cst_y1 = "y1",
    cst_x1 = "x1",
    cst_line = "line",
    cst_g = cst_g$3,
    cst_central = "central",
    cst_dominant_baseline = "dominant-baseline",
    cst_middle = "middle",
    cst_text_anchor = "text-anchor",
    cst_y = "y",
    cst_x = "x",
    cst_text = "text",
    cst_fill = cst_fill$4,
    cst_stroke = cst_stroke$5,
    cst_stroke$0 = cst_stroke$5,
    cst_none = cst_none$1,
    cst_fill$0 = cst_fill$4,
    cst_stroke$1 = cst_stroke$5,
    _a_ = [0, 0],
    cst_g$0 = cst_g$3,
    cst_white = cst_white$1,
    cst_fill$1 = cst_fill$4,
    cst_none$0 = cst_none$1,
    cst_fill$2 = cst_fill$4,
    cst_stroke$2 = cst_stroke$5,
    cst_stroke$3 = cst_stroke$5,
    cst_g$1 = cst_g$3,
    _b_ = [0, 0.3],
    cst_white$0 = cst_white$1,
    cst_fill$3 = cst_fill$4,
    cst_stroke$4 = cst_stroke$5,
    cst_stroke_width = cst_stroke_width$1,
    cst_g$2 = cst_g$3,
    cst_h2 = cst_h2$1,
    cst_mark = "mark",
    cst_h2$0 = cst_h2$1,
    cst_preberi_naslednji_znak = "preberi naslednji znak",
    cst_href = "href",
    cst_button = "button",
    cst_role = "role",
    cst_a = "a",
    cst_stroke_width$0 = cst_stroke_width$1,
    cst_height = "height",
    cst_width = "width",
    cst_svg = "svg",
    cst_header = "header",
    cst_article = "article";
   function int_of_float_attr(tag, value){
    return caml_call2(Vdom[37], tag, value | 0);
   }
   function svg_krog(opt, sredisce, polmer){
    var
     a = opt ? opt[1] : 0,
     _aG_ = [0, int_of_float_attr(cst_r, polmer), 0],
     _aH_ = [0, int_of_float_attr(cst_cy, sredisce[2]), _aG_],
     _aI_ = [0, int_of_float_attr(cst_cx, sredisce[1]), _aH_],
     _aJ_ = [0, caml_call2(Stdlib[37], _aI_, a)];
    return caml_call4(Vdom[52], cst_circle, 0, _aJ_, 0);
   }
   function svg_daljica(opt, zacetek, konec){
    var
     a = opt ? opt[1] : 0,
     _aB_ = [0, int_of_float_attr(cst_y2, konec[2]), 0],
     _aC_ = [0, int_of_float_attr(cst_x2, konec[1]), _aB_],
     _aD_ = [0, int_of_float_attr(cst_y1, zacetek[2]), _aC_],
     _aE_ = [0, int_of_float_attr(cst_x1, zacetek[1]), _aD_],
     _aF_ = [0, caml_call2(Stdlib[37], _aE_, a)];
    return caml_call4(Vdom[52], cst_line, 0, _aF_, 0);
   }
   function svg_puscica(opt, zacetek, konec){
    var
     a = opt ? opt[1] : 0,
     vektor = caml_call2(Dune_exe_Vektor[3], konec, zacetek),
     normala = [254, - vektor[2], vektor[1]],
     _ar_ = caml_call2(Dune_exe_Vektor[1], -1., vektor),
     vektor_leve_konice =
       caml_call3(Dune_exe_Vektor[6], [0, Parametri[7]], _ar_, normala),
     _as_ = caml_call2(Dune_exe_Vektor[1], -1., normala),
     _at_ = caml_call2(Dune_exe_Vektor[1], -1., vektor),
     vektor_desne_konice =
       caml_call3(Dune_exe_Vektor[6], [0, Parametri[7]], _at_, _as_),
     _au_ = caml_call1(Dune_exe_Vektor[5], vektor_leve_konice),
     _av_ = caml_call2(Dune_exe_Vektor[1], Parametri[5], _au_),
     leva_konica = caml_call2(Dune_exe_Vektor[2], konec, _av_),
     _aw_ = caml_call1(Dune_exe_Vektor[5], vektor_desne_konice),
     _ax_ = caml_call2(Dune_exe_Vektor[1], Parametri[5], _aw_),
     desna_konica = caml_call2(Dune_exe_Vektor[2], konec, _ax_),
     _ay_ = [0, svg_daljica([0, a], konec, desna_konica), 0],
     _az_ = [0, svg_daljica([0, a], konec, leva_konica), _ay_],
     _aA_ = [0, svg_daljica([0, a], zacetek, konec), _az_];
    return caml_call4(Vdom[52], cst_g, 0, 0, _aA_);
   }
   function svg_oznaka(opt, polozaj, besedilo){
    var
     a = opt ? opt[1] : 0,
     _al_ = [0, caml_call2(Vdom[53], 0, besedilo), 0],
     _am_ = [0, caml_call2(Vdom[36], cst_dominant_baseline, cst_central), 0],
     _an_ = [0, caml_call2(Vdom[36], cst_text_anchor, cst_middle), _am_],
     _ao_ = [0, int_of_float_attr(cst_y, polozaj[2]), _an_],
     _ap_ = [0, int_of_float_attr(cst_x, polozaj[1]), _ao_],
     _aq_ = [0, caml_call2(Stdlib[37], _ap_, a)];
    return caml_call4(Vdom[52], cst_text, 0, _aq_, _al_);
   }
   function prikaz_stanja(model, q){
    var
     avtomat = caml_call1(Definicije_ZagnaniAvtomat[2], model[1]),
     polozaj = caml_call2(Dune_exe_Model[2], model, q),
     barva_robu =
       caml_equal(q, caml_call1(Definicije_Avtomat[6], avtomat))
        ? Parametri[3]
        : caml_call2
           (Definicije_Avtomat[9], avtomat, q)
          ? Parametri[1]
          : Parametri[12],
     barva_polnila =
       caml_equal(q, caml_call1(Definicije_ZagnaniAvtomat[4], model[1]))
        ? Parametri[2]
        : Parametri[13],
     _ac_ =
       [0, svg_oznaka(0, polozaj, caml_call1(Definicije_Stanje[2], q)), 0],
     _ad_ = Parametri[10],
     _ae_ = [0, caml_call2(Vdom[36], cst_fill, barva_polnila), 0],
     svg_elementi =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_stroke, barva_robu), _ae_]],
          polozaj,
          _ad_),
        _ac_];
    if(caml_equal(q, caml_call1(Definicije_Avtomat[6], avtomat)))
     var
      _af_ = caml_call2(Dune_exe_Vektor[3], polozaj, [254, Parametri[10], 0.]),
      _ag_ =
        caml_call2
         (Dune_exe_Vektor[3],
          polozaj,
          [254, Parametri[10] + Parametri[6], 0.]),
      svg_elementi$0 =
        [0,
         svg_puscica
          ([0, [0, caml_call2(Vdom[36], cst_stroke$0, Parametri[3]), 0]],
           _ag_,
           _af_),
         svg_elementi];
    else
     var svg_elementi$0 = svg_elementi;
    if(caml_call2(Definicije_Avtomat[9], avtomat, q))
     var
      _ah_ = Parametri[10] - Parametri[9],
      _ai_ = [0, caml_call2(Vdom[36], cst_fill$0, cst_none), 0],
      _aj_ =
        [0,
         svg_krog
          ([0, [0, caml_call2(Vdom[36], cst_stroke$1, Parametri[1]), _ai_]],
           polozaj,
           _ah_),
         0],
      svg_elementi$1 = caml_call2(Stdlib[37], svg_elementi$0, _aj_);
    else
     var svg_elementi$1 = svg_elementi$0;
    var
     _ak_ =
       [0,
        [0, caml_call3(Vdom[8], _a_, 0, function(param){return [0, q];}), 0]];
    return caml_call4(Vdom[52], cst_g$0, 0, _ak_, svg_elementi$1);
   }
   function prikaz_zanke(zacetek, oznaka){
    var
     polozaj_oznake =
       caml_call2(Dune_exe_Vektor[3], zacetek, [254, 0., 2. * Parametri[11]]),
     _U_ = [0, svg_oznaka(0, polozaj_oznake, oznaka), 0],
     _V_ = Parametri[8],
     _W_ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_fill$1, cst_white), 0]],
          polozaj_oznake,
          _V_),
        _U_],
     _X_ = Parametri[11],
     _Y_ = caml_call2(Dune_exe_Vektor[3], zacetek, [254, 0., Parametri[11]]),
     _Z_ = [0, caml_call2(Vdom[36], cst_fill$2, cst_none$0), 0],
     ___ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_stroke$2, Parametri[12]), _Z_]],
          _Y_,
          _X_),
        _W_],
     _$_ = caml_call2(Dune_exe_Vektor[2], zacetek, [254, Parametri[10], -2.]),
     _aa_ =
       caml_call2(Dune_exe_Vektor[2], zacetek, [254, Parametri[10] + 2., -3.]),
     _ab_ =
       [0,
        svg_puscica
         ([0, [0, caml_call2(Vdom[36], cst_stroke$3, Parametri[12]), 0]],
          _aa_,
          _$_),
        ___];
    return caml_call4(Vdom[52], cst_g$1, 0, 0, _ab_);
   }
   function prikaz_prehoda(zacetek, konec, oznaka){
    var
     _O_ = caml_call2(Dune_exe_Vektor[7], zacetek, konec),
     lambda = Parametri[10] / _O_,
     zacetek_puscice =
       caml_call3(Dune_exe_Vektor[6], [0, lambda], zacetek, konec),
     konec_puscice =
       caml_call3(Dune_exe_Vektor[6], [0, 1. - lambda], zacetek, konec),
     polozaj_oznake = caml_call3(Dune_exe_Vektor[6], _b_, zacetek, konec),
     _P_ = [0, svg_oznaka(0, polozaj_oznake, oznaka), 0],
     _Q_ = Parametri[8],
     _R_ =
       [0,
        svg_krog
         ([0, [0, caml_call2(Vdom[36], cst_fill$3, cst_white$0), 0]],
          polozaj_oznake,
          _Q_),
        _P_],
     _S_ = [0, caml_call2(Vdom[36], cst_stroke$4, Parametri[12]), 0],
     _T_ =
       [0,
        svg_puscica
         ([0, [0, int_of_float_attr(cst_stroke_width, Parametri[4]), _S_]],
          zacetek_puscice,
          konec_puscice),
        _R_];
    return caml_call4(Vdom[52], cst_g$2, 0, 0, _T_);
   }
   function prikaz_traku(model){
    var
     trak = caml_call1(Definicije_ZagnaniAvtomat[3], model[1]),
     _F_ = model[3];
    if(typeof _F_ === "number" && _F_){
     var
      _G_ = caml_call1(Definicije_Trak[6], trak),
      _H_ = [0, caml_call1(Vdom[42], _G_), 0],
      _I_ =
        [0,
         [0, caml_call3(Vdom[19], 0, 0, function(niz){return [2, niz];}), _H_]],
      _J_ = [0, caml_call3(Vdom[60], 0, _I_, 0), 0];
     return caml_call5(Vdom[51], 0, cst_h2, 0, 0, _J_);
    }
    var
     prebrani = caml_call1(Definicije_Trak[7], trak),
     neprebrani = caml_call1(Definicije_Trak[8], trak),
     _K_ = [0, caml_call2(Vdom[53], 0, neprebrani), 0],
     _L_ = [0, caml_call5(Vdom[51], 0, cst_mark, 0, 0, _K_), 0],
     _M_ = [0, caml_call2(Vdom[53], 0, prebrani), _L_],
     _N_ = [0, [0, caml_call3(Vdom[13], 0, 0, function(param){return 2;}), 0]];
    return caml_call5(Vdom[51], 0, cst_h2$0, 0, _N_, _M_);
   }
   function prikaz_gumba_za_naslednji_znak(model){
    var
     _w_ = [0, caml_call2(Vdom[53], 0, cst_preberi_naslednji_znak), 0],
     _y_ = 1 === model[3] ? 1 : 0,
     _x_ = 0;
    if(_y_)
     var _z_ = _y_;
    else
     var
      _E_ = caml_call1(Definicije_ZagnaniAvtomat[3], model[1]),
      _z_ = caml_call1(Definicije_Trak[3], _E_);
    var
     _A_ = [0, caml_call1(Vdom[43], _z_), _x_],
     _B_ = [0, caml_call3(Vdom[11], 0, 0, function(param){return 0;}), _A_],
     _C_ = [0, caml_call2(Vdom[36], cst_href, cst), _B_],
     _D_ = [0, [0, caml_call2(Vdom[36], cst_role, cst_button), _C_]];
    return caml_call5(Vdom[51], 0, cst_a, 0, _D_, _w_);
   }
   function prikaz_avtomata(model){
    var
     avtomat = caml_call1(Definicije_ZagnaniAvtomat[2], model[1]),
     _g_ = caml_call1(Definicije_Avtomat[7], avtomat),
     stanja =
       caml_call2
        (Stdlib_List[20],
         function(_v_){return prikaz_stanja(model, _v_);},
         _g_),
     _h_ = caml_call1(Definicije_Avtomat[8], avtomat),
     prehodi =
       caml_call2
        (Stdlib_List[20],
         function(param){
          var
           dst = param[3],
           chr = param[2],
           src = param[1],
           svg_oznaka = caml_call2(Stdlib_String[1], 1, chr);
          if(caml_equal(src, dst))
           return prikaz_zanke
                   (caml_call2(Dune_exe_Model[2], model, src), svg_oznaka);
          var _u_ = caml_call2(Dune_exe_Model[2], model, dst);
          return prikaz_prehoda
                  (caml_call2(Dune_exe_Model[2], model, src), _u_, svg_oznaka);
         },
         _h_);
    if(typeof model[3] === "number")
     var a = 0;
    else
     var
      _n_ = [0, caml_call3(Vdom[10], 0, 0, function(param){return 1;}), 0],
      a =
        [0,
         caml_call3
          (Vdom[21],
           0,
           0,
           function(ev){
            var _o_ = ev[6], _p_ = caml_obj_tag(_o_);
            a:
            if(250 === _p_)
             var _q_ = _o_[1];
            else{
             if(246 !== _p_ && 244 !== _p_){var _q_ = _o_; break a;}
             var _q_ = caml_call1(CamlinternalLazy[2], _o_);
            }
            var _r_ = ev[5], _s_ = caml_obj_tag(_r_);
            a:
            if(250 === _s_)
             var _t_ = _r_[1];
            else{
             if(246 !== _s_ && 244 !== _s_){var _t_ = _r_; break a;}
             var _t_ = caml_call1(CamlinternalLazy[2], _r_);
            }
            return [1, [254, _t_, _q_]];
           }),
         _n_];
    var
     _i_ = caml_call2(Stdlib[37], prehodi, stanja),
     _j_ = [0, int_of_float_attr(cst_stroke_width$0, Parametri[4]), 0],
     _k_ = [0, int_of_float_attr(cst_height, model[5]), _j_],
     _l_ = [0, int_of_float_attr(cst_width, model[4]), _k_],
     _m_ = [0, caml_call2(Stdlib[37], a, _l_)];
    return caml_call4(Vdom[52], cst_svg, 0, _m_, _i_);
   }
   function view(model){
    var
     _c_ = [0, prikaz_avtomata(model), 0],
     _d_ = [0, prikaz_gumba_za_naslednji_znak(model), 0],
     _e_ = [0, prikaz_traku(model), _d_],
     _f_ = [0, caml_call5(Vdom[51], 0, cst_header, 0, 0, _e_), _c_];
    return caml_call5(Vdom[51], 0, cst_article, 0, 0, _f_);
   }
   var
    Dune_exe_View =
      [0,
       Parametri,
       int_of_float_attr,
       svg_krog,
       svg_daljica,
       svg_puscica,
       svg_oznaka,
       prikaz_stanja,
       prikaz_zanke,
       prikaz_prehoda,
       prikaz_traku,
       prikaz_gumba_za_naslednji_znak,
       prikaz_avtomata,
       view];
   runtime.caml_register_global(89, Dune_exe_View, "Dune__exe__View");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLjAsImZpbGUiOiIuc3BsZXRuaVZtZXNuaWsuZW9ianMvanNvby9kdW5lX19leGVfX1ZpZXcuY21vLmpzIiwic291cmNlUm9vdCI6IiIsIm5hbWVzIjpbImJhcnZhX3NwcmVqZW1uZWdhX3N0YW5qYSIsImJhcnZhX3RyZW51dG5lZ2Ffc3RhbmphIiwiYmFydmFfemFjZXRuZWdhX3N0YW5qYSIsInByaXZ6ZXRhX2JhcnZhX2NydCIsInByaXZ6ZXRhX2JhcnZhX3BvbG5pbGEiLCJpbnRfb2ZfZmxvYXRfYXR0ciIsInRhZyIsInZhbHVlIiwic3ZnX2tyb2ciLCJzcmVkaXNjZSIsInBvbG1lciIsImEiLCJzdmdfZGFsamljYSIsInphY2V0ZWsiLCJrb25lYyIsInN2Z19wdXNjaWNhIiwidmVrdG9yIiwibm9ybWFsYSIsInZla3Rvcl9sZXZlX2tvbmljZSIsInZla3Rvcl9kZXNuZV9rb25pY2UiLCJsZXZhX2tvbmljYSIsImRlc25hX2tvbmljYSIsInN2Z19vem5ha2EiLCJwb2xvemFqIiwiYmVzZWRpbG8iLCJwcmlrYXpfc3RhbmphIiwibW9kZWwiLCJxIiwiYXZ0b21hdCIsImJhcnZhX3JvYnUiLCJiYXJ2YV9wb2xuaWxhIiwic3ZnX2VsZW1lbnRpIiwic3ZnX2VsZW1lbnRpJDAiLCJzdmdfZWxlbWVudGkkMSIsInByaWthel96YW5rZSIsIm96bmFrYSIsInBvbG96YWpfb3puYWtlIiwicHJpa2F6X3ByZWhvZGEiLCJsYW1iZGEiLCJ6YWNldGVrX3B1c2NpY2UiLCJrb25lY19wdXNjaWNlIiwicHJpa2F6X3RyYWt1IiwidHJhayIsIm5peiIsInByZWJyYW5pIiwibmVwcmVicmFuaSIsInByaWthel9ndW1iYV96YV9uYXNsZWRuamlfem5hayIsInByaWthel9hdnRvbWF0YSIsInN0YW5qYSIsInByZWhvZGkiLCJkc3QiLCJjaHIiLCJzcmMiLCJldiIsInZpZXciXSwic291cmNlcyI6WyIvd29ya3NwYWNlX3Jvb3Qvc3JjL3NwbGV0bmlWbWVzbmlrL3ZpZXcubWwiXSwibWFwcGluZ3Mi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O1NBZWRmOzs7Z0JBT0ksMkNBQW9CLFNBQW9CO01BUDVDQTs7U0FJSTs7OztvQkFBaUIwQztZQUNiLFVBRGFBOzs7Ozs7OztzQkFBQUE7Ozs7Ozs7O1lBQ2I7V0FDOEQ7O0lBYXhFO0tBQUEsTUFBQSx1QkE3QkVKLFNBSEFEO2VBdkxGM0M7ZUFBQUEsOEJBcUxnQnFCO0tBNkJaLFVBbE5KckIsNkJBcUxnQnFCO0tBNEJkLFVBQUEsdUJBYkFmO0lBbUJGLE9BQUE7R0FBa0I7WUFFbEIyQyxLQUFLNUI7SUFDUDtlQXJDRXFCLGdCQW9DS3JCO2VBakRMb0IsK0JBaURLcEI7S0FHVSxVQXBFZmUsYUFpRUtmO0tBRUwsVUFDRTtJQURGLE9BQUE7R0FHQzs7Ozs7T0E5TkRyQjtPQUVBRztPQVdBSTtPQVlBRztPQXNCQU87T0FZQUc7T0F5REFTO09Ba0JBRztPQWtCQUk7T0FnQkFLO09BYUFDO09Bb0NBTzs7O0UiLCJzb3VyY2VzQ29udGVudCI6WyJvcGVuIFZkb21cbm9wZW4gTW9kZWxcbm9wZW4gVmVrdG9yXG5vcGVuIERlZmluaWNpamVcblxubW9kdWxlIFBhcmFtZXRyaSA9IHN0cnVjdFxuICBsZXQgYmFydmFfc3ByZWplbW5lZ2Ffc3RhbmphID0gXCJyZ2IoNTYsIDE0MiwgNjApXCJcbiAgbGV0IGJhcnZhX3RyZW51dG5lZ2Ffc3RhbmphID0gXCJyZ2IoMjU1LCAyNDIsIDIwMilcIlxuICBsZXQgYmFydmFfemFjZXRuZWdhX3N0YW5qYSA9IFwicmdiKDgsIDExOCwgMTU1KVwiXG4gIGxldCBkZWJlbGluYV9jcnQgPSAzLlxuICBsZXQgZG9semluYV9rb25pY2UgPSAxMC5cbiAgbGV0IGRvbHppbmFfcHVzY2ljZV96YWNldG5lZ2Ffc3RhbmphID0gMjAuXG4gIGxldCBuYWtsb25fa29uaWNlID0gMC40XG4gIGxldCBwb2xtZXJfb3puYWtlID0gMTAuXG4gIGxldCBwb2xtZXJfc3ByZWplbW5lZ2Ffc3RhbmphID0gNS5cbiAgbGV0IHBvbG1lcl9zdGFuamEgPSAyMC5cbiAgbGV0IHBvbG1lcl96YW5rZSA9IDI1LlxuICBsZXQgcHJpdnpldGFfYmFydmFfY3J0ID0gXCJibGFja1wiXG4gIGxldCBwcml2emV0YV9iYXJ2YV9wb2xuaWxhID0gXCJ3aGl0ZVwiXG5lbmRcblxubGV0IGludF9vZl9mbG9hdF9hdHRyIHRhZyB2YWx1ZSA9IGludF9hdHRyIHRhZyAoaW50X29mX2Zsb2F0IHZhbHVlKVxuXG5sZXQgc3ZnX2tyb2cgPyhhID0gW10pIHNyZWRpc2NlIHBvbG1lciA9XG4gIHN2Z19lbHQgXCJjaXJjbGVcIlxuICAgIH5hOlxuICAgICAgKFtcbiAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwiY3hcIiBzcmVkaXNjZS54O1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJjeVwiIHNyZWRpc2NlLnk7XG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcInJcIiBwb2xtZXI7XG4gICAgICAgXVxuICAgICAgQCBhKVxuICAgIFtdXG5cbmxldCBzdmdfZGFsamljYSA/KGEgPSBbXSkgemFjZXRlayBrb25lYyA9XG4gIHN2Z19lbHQgXCJsaW5lXCJcbiAgICB+YTpcbiAgICAgIChbXG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcIngxXCIgemFjZXRlay54O1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ5MVwiIHphY2V0ZWsueTtcbiAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwieDJcIiBrb25lYy54O1xuICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJ5MlwiIGtvbmVjLnk7XG4gICAgICAgXVxuICAgICAgQCBhKVxuICAgIFtdXG5cbmxldCBzdmdfcHVzY2ljYSA/KGEgPSBbXSkgemFjZXRlayBrb25lYyA9XG4gIGxldCB2ZWt0b3IgPSBrb25lYyAtLS4gemFjZXRlayBpblxuICBsZXQgbm9ybWFsYSA9IHsgeCA9IC0udmVrdG9yLnk7IHkgPSB2ZWt0b3IueCB9IGluXG4gIGxldCB2ZWt0b3JfbGV2ZV9rb25pY2UgPVxuICAgIHNyZWRpbmEgfmxhbWJkYTpQYXJhbWV0cmkubmFrbG9uX2tvbmljZSAoLTEuICoqLiB2ZWt0b3IpIG5vcm1hbGFcbiAgaW5cbiAgbGV0IHZla3Rvcl9kZXNuZV9rb25pY2UgPVxuICAgIHNyZWRpbmEgfmxhbWJkYTpQYXJhbWV0cmkubmFrbG9uX2tvbmljZSAoLTEuICoqLiB2ZWt0b3IpICgtMS4gKiouIG5vcm1hbGEpXG4gIGluXG4gIGxldCBsZXZhX2tvbmljYSA9XG4gICAga29uZWMgKysuIChQYXJhbWV0cmkuZG9semluYV9rb25pY2UgKiouIG5vcm1pcmFqIHZla3Rvcl9sZXZlX2tvbmljZSlcbiAgaW5cbiAgbGV0IGRlc25hX2tvbmljYSA9XG4gICAga29uZWMgKysuIChQYXJhbWV0cmkuZG9semluYV9rb25pY2UgKiouIG5vcm1pcmFqIHZla3Rvcl9kZXNuZV9rb25pY2UpXG4gIGluXG4gIHN2Z19lbHQgXCJnXCJcbiAgICBbXG4gICAgICBzdmdfZGFsamljYSB+YSB6YWNldGVrIGtvbmVjO1xuICAgICAgc3ZnX2RhbGppY2EgfmEga29uZWMgbGV2YV9rb25pY2E7XG4gICAgICBzdmdfZGFsamljYSB+YSBrb25lYyBkZXNuYV9rb25pY2E7XG4gICAgXVxuXG5sZXQgc3ZnX296bmFrYSA/KGEgPSBbXSkgcG9sb3phaiBiZXNlZGlsbyA9XG4gIHN2Z19lbHQgXCJ0ZXh0XCJcbiAgICB+YTpcbiAgICAgIChbXG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcInhcIiBwb2xvemFqLng7XG4gICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcInlcIiBwb2xvemFqLnk7XG4gICAgICAgICBhdHRyIFwidGV4dC1hbmNob3JcIiBcIm1pZGRsZVwiO1xuICAgICAgICAgYXR0ciBcImRvbWluYW50LWJhc2VsaW5lXCIgXCJjZW50cmFsXCI7XG4gICAgICAgXVxuICAgICAgQCBhKVxuICAgIFsgdGV4dCBiZXNlZGlsbyBdXG5cbmxldCBwcmlrYXpfc3RhbmphIG1vZGVsIHEgPVxuICBsZXQgYXZ0b21hdCA9IFphZ25hbmlBdnRvbWF0LmF2dG9tYXQgbW9kZWwuYXZ0b21hdCBpblxuICBsZXQgcG9sb3phaiA9IHBvbG96YWpfc3RhbmphIG1vZGVsIHEgaW5cbiAgbGV0IGJhcnZhX3JvYnUgPVxuICAgIGlmIHEgPSBBdnRvbWF0LnphY2V0bm9fc3RhbmplIGF2dG9tYXQgdGhlbiBQYXJhbWV0cmkuYmFydmFfemFjZXRuZWdhX3N0YW5qYVxuICAgIGVsc2UgaWYgQXZ0b21hdC5qZV9zcHJlamVtbm9fc3RhbmplIGF2dG9tYXQgcSB0aGVuXG4gICAgICBQYXJhbWV0cmkuYmFydmFfc3ByZWplbW5lZ2Ffc3RhbmphXG4gICAgZWxzZSBQYXJhbWV0cmkucHJpdnpldGFfYmFydmFfY3J0XG4gIGluXG4gIGxldCBiYXJ2YV9wb2xuaWxhID1cbiAgICBpZiBxID0gWmFnbmFuaUF2dG9tYXQuc3RhbmplIG1vZGVsLmF2dG9tYXQgdGhlblxuICAgICAgUGFyYW1ldHJpLmJhcnZhX3RyZW51dG5lZ2Ffc3RhbmphXG4gICAgZWxzZSBQYXJhbWV0cmkucHJpdnpldGFfYmFydmFfcG9sbmlsYVxuICBpblxuICBsZXQgc3ZnX2VsZW1lbnRpID1cbiAgICBbXG4gICAgICBzdmdfa3JvZ1xuICAgICAgICB+YTpbIGF0dHIgXCJzdHJva2VcIiBiYXJ2YV9yb2J1OyBhdHRyIFwiZmlsbFwiIGJhcnZhX3BvbG5pbGEgXVxuICAgICAgICBwb2xvemFqIFBhcmFtZXRyaS5wb2xtZXJfc3RhbmphO1xuICAgICAgc3ZnX296bmFrYSBwb2xvemFqIChTdGFuamUudl9uaXogcSk7XG4gICAgXVxuICBpblxuICBsZXQgc3ZnX2VsZW1lbnRpID1cbiAgICBpZiBxID0gQXZ0b21hdC56YWNldG5vX3N0YW5qZSBhdnRvbWF0IHRoZW5cbiAgICAgIHN2Z19wdXNjaWNhXG4gICAgICAgIH5hOlsgYXR0ciBcInN0cm9rZVwiIFBhcmFtZXRyaS5iYXJ2YV96YWNldG5lZ2Ffc3RhbmphIF1cbiAgICAgICAgKHBvbG96YWpcbiAgICAgICAgLS0uIHtcbiAgICAgICAgICAgICAgeCA9XG4gICAgICAgICAgICAgICAgUGFyYW1ldHJpLnBvbG1lcl9zdGFuamFcbiAgICAgICAgICAgICAgICArLiBQYXJhbWV0cmkuZG9semluYV9wdXNjaWNlX3phY2V0bmVnYV9zdGFuamE7XG4gICAgICAgICAgICAgIHkgPSAwLjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIChwb2xvemFqIC0tLiB7IHggPSBQYXJhbWV0cmkucG9sbWVyX3N0YW5qYTsgeSA9IDAuIH0pXG4gICAgICA6OiBzdmdfZWxlbWVudGlcbiAgICBlbHNlIHN2Z19lbGVtZW50aVxuICBpblxuICBsZXQgc3ZnX2VsZW1lbnRpID1cbiAgICBpZiBBdnRvbWF0LmplX3NwcmVqZW1ub19zdGFuamUgYXZ0b21hdCBxIHRoZW5cbiAgICAgIHN2Z19lbGVtZW50aVxuICAgICAgQCBbXG4gICAgICAgICAgc3ZnX2tyb2dcbiAgICAgICAgICAgIH5hOlxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgYXR0ciBcInN0cm9rZVwiIFBhcmFtZXRyaS5iYXJ2YV9zcHJlamVtbmVnYV9zdGFuamE7XG4gICAgICAgICAgICAgICAgYXR0ciBcImZpbGxcIiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgcG9sb3phalxuICAgICAgICAgICAgKFBhcmFtZXRyaS5wb2xtZXJfc3RhbmphIC0uIFBhcmFtZXRyaS5wb2xtZXJfc3ByZWplbW5lZ2Ffc3RhbmphKTtcbiAgICAgICAgXVxuICAgIGVsc2Ugc3ZnX2VsZW1lbnRpXG4gIGluXG5cbiAgc3ZnX2VsdCBcImdcIlxuICAgIH5hOlsgb25tb3VzZWRvd24gfnByZXZlbnRfZGVmYXVsdDooKSAoZnVuIF8gLT4gWmFjbmlQcmVtaWtWb3psaXNjYSBxKSBdXG4gICAgc3ZnX2VsZW1lbnRpXG5cbmxldCBwcmlrYXpfemFua2UgemFjZXRlayBvem5ha2EgPVxuICBsZXQgcG9sb3phal9vem5ha2UgPVxuICAgIHphY2V0ZWsgLS0uIHsgeCA9IDAuOyB5ID0gMi4gKi4gUGFyYW1ldHJpLnBvbG1lcl96YW5rZSB9XG4gIGluXG4gIHN2Z19lbHQgXCJnXCJcbiAgICBbXG4gICAgICBzdmdfcHVzY2ljYVxuICAgICAgICB+YTpbIGF0dHIgXCJzdHJva2VcIiBQYXJhbWV0cmkucHJpdnpldGFfYmFydmFfY3J0IF1cbiAgICAgICAgKHphY2V0ZWsgKysuIHsgeCA9IFBhcmFtZXRyaS5wb2xtZXJfc3RhbmphICsuIDIuOyB5ID0gLTMuIH0pXG4gICAgICAgICh6YWNldGVrICsrLiB7IHggPSBQYXJhbWV0cmkucG9sbWVyX3N0YW5qYTsgeSA9IC0yLiB9KTtcbiAgICAgIHN2Z19rcm9nXG4gICAgICAgIH5hOlsgYXR0ciBcInN0cm9rZVwiIFBhcmFtZXRyaS5wcml2emV0YV9iYXJ2YV9jcnQ7IGF0dHIgXCJmaWxsXCIgXCJub25lXCIgXVxuICAgICAgICAoemFjZXRlayAtLS4geyB4ID0gMC47IHkgPSBQYXJhbWV0cmkucG9sbWVyX3phbmtlIH0pXG4gICAgICAgIFBhcmFtZXRyaS5wb2xtZXJfemFua2U7XG4gICAgICBzdmdfa3JvZyB+YTpbIGF0dHIgXCJmaWxsXCIgXCJ3aGl0ZVwiIF0gcG9sb3phal9vem5ha2UgUGFyYW1ldHJpLnBvbG1lcl9vem5ha2U7XG4gICAgICBzdmdfb3puYWthIHBvbG96YWpfb3puYWtlIG96bmFrYTtcbiAgICBdXG5cbmxldCBwcmlrYXpfcHJlaG9kYSB6YWNldGVrIGtvbmVjIG96bmFrYSA9XG4gIGxldCBsYW1iZGEgPSBQYXJhbWV0cmkucG9sbWVyX3N0YW5qYSAvLiByYXpkYWxqYSB6YWNldGVrIGtvbmVjIGluXG4gIGxldCB6YWNldGVrX3B1c2NpY2UgPSBzcmVkaW5hIH5sYW1iZGEgemFjZXRlayBrb25lYyBpblxuICBsZXQga29uZWNfcHVzY2ljZSA9IHNyZWRpbmEgfmxhbWJkYTooMS4gLS4gbGFtYmRhKSB6YWNldGVrIGtvbmVjIGluXG4gIGxldCBwb2xvemFqX296bmFrZSA9IHNyZWRpbmEgfmxhbWJkYTowLjMgemFjZXRlayBrb25lYyBpblxuICBzdmdfZWx0IFwiZ1wiXG4gICAgW1xuICAgICAgc3ZnX3B1c2NpY2FcbiAgICAgICAgfmE6XG4gICAgICAgICAgW1xuICAgICAgICAgICAgaW50X29mX2Zsb2F0X2F0dHIgXCJzdHJva2Utd2lkdGhcIiBQYXJhbWV0cmkuZGViZWxpbmFfY3J0O1xuICAgICAgICAgICAgYXR0ciBcInN0cm9rZVwiIFBhcmFtZXRyaS5wcml2emV0YV9iYXJ2YV9jcnQ7XG4gICAgICAgICAgXVxuICAgICAgICB6YWNldGVrX3B1c2NpY2Uga29uZWNfcHVzY2ljZTtcbiAgICAgIHN2Z19rcm9nIH5hOlsgYXR0ciBcImZpbGxcIiBcIndoaXRlXCIgXSBwb2xvemFqX296bmFrZSBQYXJhbWV0cmkucG9sbWVyX296bmFrZTtcbiAgICAgIHN2Z19vem5ha2EgcG9sb3phal9vem5ha2Ugb3puYWthO1xuICAgIF1cblxubGV0IHByaWthel90cmFrdSBtb2RlbCA9XG4gIGxldCB0cmFrID0gWmFnbmFuaUF2dG9tYXQudHJhayBtb2RlbC5hdnRvbWF0IGluXG4gIG1hdGNoIG1vZGVsLm5hY2luIHdpdGhcbiAgfCBWbmFzYW5qZU5pemEgLT5cbiAgICAgIGVsdCBcImgyXCJcbiAgICAgICAgW1xuICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICB+YTpbIG9uY2hhbmdlIChmdW4gbml6IC0+IFZuZXNpTml6IG5peik7IHZhbHVlIChUcmFrLnZfbml6IHRyYWspIF1cbiAgICAgICAgICAgIFtdO1xuICAgICAgICBdXG4gIHwgXyAtPlxuICAgICAgbGV0IHByZWJyYW5pID0gVHJhay5wcmVicmFuaSB0cmFrIGFuZCBuZXByZWJyYW5pID0gVHJhay5uZXByZWJyYW5pIHRyYWsgaW5cbiAgICAgIGVsdCBcImgyXCJcbiAgICAgICAgfmE6WyBvbmRibGNsaWNrIChmdW4gXyAtPiBaYWNuaVZub3NOaXphKSBdXG4gICAgICAgIFsgdGV4dCBwcmVicmFuaTsgZWx0IFwibWFya1wiIFsgdGV4dCBuZXByZWJyYW5pIF0gXVxuXG5sZXQgcHJpa2F6X2d1bWJhX3phX25hc2xlZG5qaV96bmFrIG1vZGVsID1cbiAgZWx0IFwiYVwiXG4gICAgfmE6XG4gICAgICBbXG4gICAgICAgIGF0dHIgXCJyb2xlXCIgXCJidXR0b25cIjtcbiAgICAgICAgYXR0ciBcImhyZWZcIiBcIiNcIjtcbiAgICAgICAgb25jbGljayAoZnVuIF8gLT4gUHJlYmVyaU5hc2xlZG5qaVpuYWspO1xuICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgIChtb2RlbC5uYWNpbiA9IFZuYXNhbmplTml6YVxuICAgICAgICAgIHx8IG1vZGVsLmF2dG9tYXQgfD4gWmFnbmFuaUF2dG9tYXQudHJhayB8PiBUcmFrLmplX25hX2tvbmN1KTtcbiAgICAgIF1cbiAgICBbIHRleHQgXCJwcmViZXJpIG5hc2xlZG5qaSB6bmFrXCIgXVxuXG5sZXQgcHJpa2F6X2F2dG9tYXRhIG1vZGVsID1cbiAgbGV0IGF2dG9tYXQgPSBaYWduYW5pQXZ0b21hdC5hdnRvbWF0IG1vZGVsLmF2dG9tYXQgaW5cbiAgbGV0IHN0YW5qYSA9XG4gICAgTGlzdC5tYXAgKHByaWthel9zdGFuamEgbW9kZWwpIChhdnRvbWF0IHw+IEF2dG9tYXQuc2V6bmFtX3N0YW5qKVxuICBpblxuICBsZXQgcHJlaG9kaSA9XG4gICAgTGlzdC5tYXBcbiAgICAgIChmdW4gKHNyYywgY2hyLCBkc3QpIC0+XG4gICAgICAgIGxldCBzdmdfb3puYWthID0gU3RyaW5nLm1ha2UgMSBjaHIgaW5cbiAgICAgICAgaWYgc3JjID0gZHN0IHRoZW4gcHJpa2F6X3phbmtlIChwb2xvemFqX3N0YW5qYSBtb2RlbCBzcmMpIHN2Z19vem5ha2FcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHByaWthel9wcmVob2RhIChwb2xvemFqX3N0YW5qYSBtb2RlbCBzcmMpIChwb2xvemFqX3N0YW5qYSBtb2RlbCBkc3QpXG4gICAgICAgICAgICBzdmdfb3puYWthKVxuICAgICAgKEF2dG9tYXQuc2V6bmFtX3ByZWhvZG92IGF2dG9tYXQpXG4gIGluXG4gIGxldCBhID1cbiAgICBtYXRjaCBtb2RlbC5uYWNpbiB3aXRoXG4gICAgfCBQcmVtaWthbmplVm96bGlzY2EgXyAtPlxuICAgICAgICBbXG4gICAgICAgICAgb25tb3VzZW1vdmUgKGZ1biBldiAtPlxuICAgICAgICAgICAgICBQcmVtYWtuaVZvemxpc2NlXG4gICAgICAgICAgICAgICAgeyB4ID0gTGF6eS5mb3JjZSBldi5lbGVtZW50X3g7IHkgPSBMYXp5LmZvcmNlIGV2LmVsZW1lbnRfeSB9KTtcbiAgICAgICAgICBvbm1vdXNldXAgKGZ1biBfIC0+IEtvbmNhalByZW1pa1Zvemxpc2NhKTtcbiAgICAgICAgXVxuICAgIHwgXyAtPiBbXVxuICBpblxuICBzdmdfZWx0IFwic3ZnXCJcbiAgICB+YTpcbiAgICAgIChhXG4gICAgICBAIFtcbiAgICAgICAgICBpbnRfb2ZfZmxvYXRfYXR0ciBcIndpZHRoXCIgbW9kZWwuc2lyaW5hO1xuICAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwiaGVpZ2h0XCIgbW9kZWwudmlzaW5hO1xuICAgICAgICAgIGludF9vZl9mbG9hdF9hdHRyIFwic3Ryb2tlLXdpZHRoXCIgUGFyYW1ldHJpLmRlYmVsaW5hX2NydDtcbiAgICAgICAgXSlcbiAgICAocHJlaG9kaSBAIHN0YW5qYSlcblxubGV0IHZpZXcgbW9kZWwgPVxuICBlbHQgXCJhcnRpY2xlXCJcbiAgICBbXG4gICAgICBlbHQgXCJoZWFkZXJcIiBbIHByaWthel90cmFrdSBtb2RlbDsgcHJpa2F6X2d1bWJhX3phX25hc2xlZG5qaV96bmFrIG1vZGVsIF07XG4gICAgICBwcmlrYXpfYXZ0b21hdGEgbW9kZWw7XG4gICAgXVxuIl19
